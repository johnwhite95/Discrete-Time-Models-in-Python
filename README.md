# Discrete Time Models in Python


```python
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
```


```python
def malthus(F, d, x): return((1 + F - d) * x)
```


```python
def predator_prey(K, r, s, u, v, p, q): return([p * (1 + r * (1 - p / K)) - s * p * q, (1 - u) * q + v * p * q])
```


```python
def sir(alpha, gamma, s, i, r): return([s - alpha*s*i, i + alpha*s*i - gamma*i, r + gamma*i])
```


```python
class FDM:

    def __init__(self, x0, func, *variables):

        self.x, self.func, *self.variables = x0, func, *variables
        
    def update(self):

        self.x = self.func(*self.variables, self.x)
        
    def generate(self, n, plot = 0):

        sequence = []
        for i in range(n):
            sequence.append(self.x)
            self.update()
        if (plot == "plots:true"):
            fig, ax, = plt.subplots()
            ax.plot(range(n), sequence, 'go--', alpha = 0.5)
            plt.show()
        return (np.array(sequence))

```


```python
class FDM2:
    
    def __init__(self, x0, y0, func, *variables):
        
        self.x, self.y, self.func, *self.variables = x0, y0, func, *variables
        
    def update(self):
        self.x, self.y = self.func(*self.variables, self.x, self.y)
        
    def generate(self, n, *arguments):
        
        sequence = []
        
        for i in range(n):
            sequence.append([self.x, self.y])
            self.update()
        if ("plot" in arguments):
            fig, ax, = plt.subplots()
            ax.plot(range(n), sequence, 'go--', alpha = 0.5)
            plt.show()
            
        sequence = np.array(sequence)
        if ("phase" in arguments):
            xp = sequence[0:len(sequence), 0:1]
            yp = sequence[0:len(sequence), 1:2]
            plt.plot(xp, yp, 'go--', alpha = 0.5)
            plt.show()
        
        return(sequence)
```


```python
pred_prey = FDM2(1.1, 0.4, predator_prey, 1, 1.3, 0.5, 0.7, 1.6)
pred_prey.generate(80, "plot", "phase")
```


![png](output_6_0.png)



![png](output_6_1.png)





    array([[1.1       , 0.4       ],
           [0.737     , 0.824     ],
           [0.6853363 , 1.2188608 ],
           [0.54801712, 1.70218552],
           [0.40360638, 2.00317854],
           [0.31227931, 1.89454658],
           [0.29565469, 1.5149683 ],
           [0.34241684, 1.17114245],
           [0.4346252 , 0.99297297],
           [0.53828364, 0.98840561],
           [0.59535703, 1.1477898 ],
           [0.56686381, 1.43768849],
           [0.47856502, 1.73526428],
           [0.38774933, 1.84927815],
           [0.33784087, 1.70207363],
           [0.3411416 , 1.43067015],
           [0.38930426, 1.2100988 ],
           [0.46282634, 1.11678422],
           [0.52759132, 1.16203871],
           [0.54506089, 1.32954206],
           [0.50508057, 1.55835281],
           [0.43650015, 1.72685581],
           [0.37937184, 1.72409326],
           [0.35841913, 1.56374387],
           [0.37712258, 1.36588429],
           [0.42494116, 1.23393459],
           [0.48044238, 1.20913973],
           [0.51448415, 1.29221708],
           [0.50679882, 1.45138544],
           [0.46395851, 1.61231232],
           [0.41324682, 1.68056734],
           [0.38121832, 1.61535276],
           [0.37997547, 1.46988912],
           [0.40698691, 1.33460164],
           [0.44915735, 1.26944513],
           [0.48570658, 1.29312251],
           [0.49640193, 1.39286172],
           [0.47567548, 1.52412931],
           [0.43741082, 1.61722429],
           [0.40362249, 1.61699354],
           [0.3902198 , 1.529346  ],
           [0.40116206, 1.41365354],
           [0.42991035, 1.33146272],
           [0.46231922, 1.31529419],
           [0.48143054, 1.36752552],
           [0.47679799, 1.46364733],
           [0.45216611, 1.55567677],
           [0.42247945, 1.59218192],
           [0.40333511, 1.55391719],
           [0.4028131 , 1.46897414],
           [0.4196732 , 1.38744748],
           [0.44514783, 1.34787349],
           [0.46623496, 1.36436678],
           [0.47169511, 1.42709481],
           [0.45907677, 1.50517429],
           [0.43640437, 1.55713717],
           [0.41637591, 1.5544075 ],
           [0.40867611, 1.5018708 ],
           [0.41594468, 1.43260718],
           [0.43381713, 1.38319869],
           [0.45309526, 1.37504806],
           [0.46372131, 1.40935884],
           [0.46023546, 1.46848721],
           [0.44525493, 1.52190599],
           [0.42754073, 1.54078963],
           [0.41634012, 1.5162374 ],
           [0.41660622, 1.46490396],
           [0.42742129, 1.41593215],
           [0.44297355, 1.39309892],
           [0.45519294, 1.40529923],
           [0.45774182, 1.44508143],
           [0.44968324, 1.49188316],
           [0.4359545 , 1.52096471],
           [0.42408642, 1.51720368],
           [0.41988195, 1.48464187],
           [0.42485022, 1.44279148],
           [0.43602334, 1.41358988],
           [0.44752333, 1.41025006],
           [0.45338349, 1.43286671],
           [0.45073941, 1.46928099]])




```python
class FDM3:
    
    def __init__(self, x0, y0, z0, func, *variables):
        
        self.x, self.y, self.z, self.func, *self.variables = x0, y0, z0, func, *variables
        self.x2, self.y2, self.z2, self.func2, *self.variables2 = x0, y0, z0, func, *variables
            
    def update(self):
        self.x, self.y, self.z = self.func(*self.variables, self.x, self.y, self.z)
        self.x2, self.y2, self.z2 = self.func(*self.variables, self.x2, self.y2, self.z2)
        
    def generate(self, n, *arguments):
        
        sequence = []
        
        for cnt in range(n):
            sequence.append([self.x, self.y, self.z])
            self.update()
        if ("plot" in arguments):
            fig, ax, = plt.subplots()
            ax.plot(range(n), sequence, 'go--', alpha = 0.5)
            plt.show()
            
        sequence = np.array(sequence)
        
        if ("phase" in arguments):
            xp = sequence[0:len(sequence), 0:1]
            yp = sequence[0:len(sequence), 1:2]
            zp = sequence[0:len(sequence), 2:3]
            plt.plot(xp, yp, 'go--', alpha = 0.5)
            plt.show()
            plt.plot(yp, zp, 'go--', alpha = 0.5)
            plt.show()
            plt.plot(xp, zp, 'go--', alpha = 0.5)
            plt.show()
            
        return(sequence)
```


```python
fdm3 = FDM3(500, 1, 0, sir, 0.001, 0.1)
fdm3.generate(50, "phase")
```


![png](output_8_0.png)



![png](output_8_1.png)



![png](output_8_2.png)





    array([[5.00000000e+02, 1.00000000e+00, 0.00000000e+00],
           [4.99500000e+02, 1.40000000e+00, 1.00000000e-01],
           [4.98800700e+02, 1.95930000e+00, 2.40000000e-01],
           [4.97823400e+02, 2.74067021e+00, 4.35930000e-01],
           [4.96459030e+02, 3.83097295e+00, 7.09997021e-01],
           [4.94557109e+02, 5.34979677e+00, 1.09309432e+00],
           [4.91911329e+02, 7.46059712e+00, 1.62807399e+00],
           [4.88241377e+02, 1.03844897e+01, 2.37413371e+00],
           [4.83171239e+02, 1.44161782e+01, 3.41258267e+00],
           [4.76205756e+02, 1.99400431e+01, 4.85420049e+00],
           [4.66710193e+02, 2.74416021e+01, 6.84820480e+00],
           [4.53902918e+02, 3.75047173e+01, 9.59236501e+00],
           [4.36879417e+02, 5.07777461e+01, 1.33428367e+01],
           [4.14695665e+02, 6.78837237e+01, 1.84206113e+01],
           [3.86544579e+02, 8.92464372e+01, 2.52089837e+01],
           [3.52046853e+02, 1.14819520e+02, 3.41336274e+01],
           [3.11625002e+02, 1.43759419e+02, 4.56155794e+01],
           [2.66825973e+02, 1.74182506e+02, 5.99915213e+01],
           [2.20349556e+02, 2.03240672e+02, 7.74097719e+01],
           [1.75565564e+02, 2.27700597e+02, 9.77338391e+01],
           [1.35589181e+02, 2.44906921e+02, 1.20503899e+02],
           [1.02382452e+02, 2.53622957e+02, 1.44994591e+02],
           [7.64159117e+01, 2.54227202e+02, 1.70356887e+02],
           [5.69889083e+01, 2.48231485e+02, 1.95779607e+02],
           [4.28424670e+01, 2.37554778e+02, 2.20602755e+02],
           [3.26650342e+01, 2.23976733e+02, 2.44358233e+02],
           [2.53488266e+01, 2.08895267e+02, 2.66755906e+02],
           [2.00535767e+01, 1.93300990e+02, 2.87645433e+02],
           [1.61772005e+01, 1.77847268e+02, 3.06975532e+02],
           [1.33001296e+01, 1.62939612e+02, 3.24760259e+02],
           [1.11330116e+01, 1.48812768e+02, 3.41054220e+02],
           [9.47627734e+00, 1.35588226e+02, 3.55935497e+02],
           [8.19140570e+00, 1.23314275e+02, 3.69494319e+02],
           [7.18128845e+00, 1.11992965e+02, 3.81825747e+02],
           [6.37703466e+00, 1.01597922e+02, 3.93025043e+02],
           [5.72914119e+00, 9.20860233e+01, 4.03184836e+02],
           [5.20156736e+00, 8.34049948e+01, 4.12393438e+02],
           [4.76773067e+00, 7.54983320e+01, 4.20733937e+02],
           [4.40777495e+00, 6.83084545e+01, 4.28283771e+02],
           [4.10668666e+00, 6.17786974e+01, 4.35114616e+02],
           [3.85298091e+00, 5.58545334e+01, 4.41292486e+02],
           [3.63777446e+00, 5.04842865e+01, 4.46877939e+02],
           [3.45412401e+00, 4.56195083e+01, 4.51926368e+02],
           [3.29654857e+00, 4.12151329e+01, 4.56488319e+02],
           [3.16068088e+00, 3.72294873e+01, 4.60609832e+02],
           [3.04301035e+00, 3.36242091e+01, 4.64332781e+02],
           [2.94069154e+00, 3.03641070e+01, 4.67695201e+02],
           [2.85140006e+00, 2.74169878e+01, 4.70731612e+02],
           [2.77322326e+00, 2.47534658e+01, 4.73473311e+02],
           [2.70457638e+00, 2.23467661e+01, 4.75948658e+02]])


